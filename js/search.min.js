"use strict";function getJSON(e){return new Promise(function(n,t){var r=new XMLHttpRequest;r.responseType="json",r.open("GET",e,!0),r.addEventListener("load",function(){var e=r.status;200===e?n(r.response):t(e)}),console.log("Loading search index"),r.send()})}function loadIndex(e){return new Promise(function(n,t){getJSON(e).then(function(e){rawIndex=e,lunrIndex=lunr(function(){this.ref("id"),this.field("url"),this.field("name"),this.field("description"),this.field("body");for(var e=0;e<rawIndex.length;e++)rawIndex[e].id=e,this.add(rawIndex[e])}),n(lunrIndex)},function(e){console.error("Unable to load search index. Status: "+e),t(e)})})}function populateSearchbox(){var e=sbox.value;if(e.length>0&&" "!==e[e.length-1]&&(e+="*"),sresults.innerHTML="",void 0!==lunrIndex){var n=lunrIndex.search(e);n.forEach(function(e){var n=document.createElement("div");n.setAttribute("class","search-result button"),n.innerHTML=rawIndex[e.ref].name;var t=document.createElement("a");t.setAttribute("href",rawIndex[e.ref].url),t.appendChild(n),sresults.appendChild(t)}),sresults.setAttribute("class",0===n.length?"hide":"")}}var lunrIndex=void 0,rawIndex=[],sbox=document.getElementById("searchbox"),sresults=document.getElementById("search-results");sbox.addEventListener("keyup",populateSearchbox);
